<scroll-view class="ui-page requests-page" scroll-y="true">
	<view class="ui-card requests-hero">
		<view>
			<text class="ui-title">æˆ‘çš„ç‚¹æ­Œ</text>
		</view>
		<view class="requests-hero__badge">å…± {{content.length || 0}} é¦–</view>
	</view>

	<view class="ui-card ui-card--quiet requests-stats">
		<view class="requests-stats__item">
			<text class="requests-stats__value">{{pendingCount}}</text>
			<text class="requests-stats__label">å¾…å®¡æ ¸</text>
		</view>
		<view class="requests-stats__item is-success">
			<text class="requests-stats__value">{{approvedCount}}</text>
			<text class="requests-stats__label">å·²é€šè¿‡</text>
		</view>
		<view class="requests-stats__item is-danger">
			<text class="requests-stats__value">{{rejectedCount}}</text>
			<text class="requests-stats__label">å·²æ‹’ç»</text>
		</view>
	</view>

	<block wx:if="{{content.length > 0}}">
		<view class="requests-list">
			<view wx:for="{{content}}" wx:key="id" class="requests-card ui-card ui-card--quiet">
				<view class="requests-card__head">
					<text class="requests-card__title">{{item.song_name}}</text>
					<text class="requests-card__status status-{{item.status}}">
						{{item.status=='approved'?'å·²é€šè¿‡':item.status=='rejected'?'å·²æ‹’ç»':'å¾…å®¡æ ¸'}}
					</text>
				</view>
				<view class="requests-card__body">
					<view class="requests-card__row">
						<text class="requests-card__icon">ğŸ•’</text>
						<text class="requests-card__text">{{item.request_time || 'åˆšåˆš'}}</text>
					</view>
					<view wx:if="{{item.status === 'rejected' && item.review_reason}}" class="requests-card__row">
						<text class="requests-card__icon">âš ï¸</text>
						<text class="requests-card__text is-danger">{{item.review_reason}}</text>
					</view>
					<view wx:if="{{item.status === 'approved'}}" class="requests-card__row">
						<text class="requests-card__icon">ğŸ§</text>
						<text class="requests-card__text is-success">å®¡æ ¸é€šè¿‡ï¼Œå·²åŠ å…¥æ’­æ”¾åˆ—è¡¨</text>
					</view>
				</view>
			</view>
		</view>
	</block>

	<view wx:if="{{content.length === 0}}" class="ui-card requests-empty">
		<image class="requests-empty__icon" src="/assets/imgs/empty-music.png"></image>
		<text class="requests-empty__title">è¿˜æ²¡æœ‰ç‚¹æ­Œè®°å½•</text>
		<text class="requests-empty__desc">å»ç‚¹æ­Œé¡µé¢æŒ‘ä¸€é¦–å–œæ¬¢çš„æ­Œå§</text>
		<button class="requests-empty__btn" bindtap="goToSearch">å»ç‚¹æ­Œ</button>
	</view>

	<view class="requests-tip">ä¸‹æ‹‰åˆ·æ–°ä»¥è·å–æœ€æ–°çŠ¶æ€</view>
</scroll-view>